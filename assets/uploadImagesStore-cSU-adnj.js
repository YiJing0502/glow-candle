import{E as r,G as n}from"./index-b5Mq9qPg.js";var p={VITE_BASE_URL:"https://vue3-course-api.hexschool.io",VITE_API_PATH:"orli-hexschool",BASE_URL:"/glow-candle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_BASE_URL:u,VITE_API_PATH:d}=p,c=r("uploadImagesStore",{actions:{validateImages(o){for(let a=0;a<o.length;a+=1){const t=o[a],e=t.size,l=3*1024*1024;if(e>l||t.type!=="image/jpeg"&&t.type!=="image/jpg"&&t.type!=="image/png")return!1}return!0},uploadFile(o){return new Promise(a=>{const t=new FormData;t.append("file-to-upload",o),n.post(`${u}/api/${d}/admin/upload`,t).then(e=>{a({imageUrl:e.data.imageUrl})}).catch(e=>{a({error:e})})})},uploadImages(o){const t=[...o.target.files].map(e=>this.uploadFile(e));return Promise.allSettled(t).then(e=>{const l=e.filter(s=>s.status==="fulfilled"),i=e.filter(s=>s.status==="rejected");return{successfulUploads:l,failedUploads:i}})}}});export{c as u};
