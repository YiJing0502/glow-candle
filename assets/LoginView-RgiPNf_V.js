import{_ as p,a as l,c as h,b as s,P as u,w as d,v as c,f,g as _,j as g,l as w,i as x,o as b,e as v}from"./index-vqMCxPcU.js";import{p as A}from"./pageStore-WDAUXcEC.js";var y={VITE_BASE_URL:"https://vue3-course-api.hexschool.io",VITE_API_PATH:"orli-hexschool",BASE_URL:"/glow-candle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_BASE_URL:S}=y,V={data(){return{email:"",password:""}},methods:{postAdminSignin(){if(this.email===""&&this.password===""){this.showAlertMessage(!1,"信箱與密碼為必填");return}const a={username:this.email,password:this.password};this.$http.post(`${S}/v2/admin/signin`,a).then(e=>{if(e.data.success){const{expired:i,token:n}=e.data;document.cookie=`adminAccount=${n}; expires=${new Date(i)}`,this.email="",this.password="",this.$router.push({name:"adminOrders"}),this.changeNowPage("訂單管理")}}).catch(e=>{this.showAlertMessage(!1,e.response.data.message)})},...l(g,["showAlertMessage"]),...l(A,["changeNowPage"])},mounted(){}},E={class:"container d-flex justify-content-center align-items-center vh-100 back"},k={class:"col-8"},P=s("div",{class:"d-flex justify-content-center mb-2"},[s("img",{src:w,alt:"",class:"img-fluid",width:"100"})],-1),R=s("h3",{class:"mb-3 text-center text-deep-gray"},"請先登入",-1),B={class:"form-floating mb-3"},L=s("label",{for:"username",class:"text-deep-gray"}," 輸入您的電子郵件 ",-1),M={class:"form-floating mb-3"},N=s("label",{for:"password",class:"text-deep-gray"}," 輸入您的密碼 ",-1),T={class:"d-flex"},D=s("button",{class:"btn btn-lg w-100 mt-3 btn-solid-spec",type:"submit"},"登入",-1);function U(a,e,i,n,o,r){const m=x("RouterLink");return b(),h("div",E,[s("div",k,[P,R,s("form",{id:"form",class:"form-signin",onSubmit:e[3]||(e[3]=u((...t)=>r.postAdminSignin&&r.postAdminSignin(...t),["prevent"]))},[s("div",B,[d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),type:"email",class:"form-control text-deep-gray",id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[c,o.email]]),L]),s("div",M,[d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),type:"password",class:"form-control text-deep-gray",id:"password",placeholder:"password",required:""},null,512),[[c,o.password]]),N]),s("div",T,[f(m,{to:{name:"home"},class:"btn btn-lg btn-solid-dpgray w-100 mt-3",onClick:e[2]||(e[2]=t=>a.changeNowPage("首頁"))},{default:_(()=>[v(" 回首頁 ")]),_:1}),D])],32)])])}const $=p(V,[["render",U]]);export{$ as default};
