import{_ as u,a as m,m as g,c as o,g as _,b as s,t as i,d as b,F as v,k as f,r as d,o as a}from"./index-GUla05Eq.js";import{o as r}from"./ordersStore-2RRnIPof.js";import"./stringStore-cDsVdNB8.js";import"./timeStore-xGLjGR52.js";const y={data(){return{serverMessage:{message:"",success:!0}}},methods:{async goToGetOrder(){try{const e=await this.getOrder(this.$route.params.id);e.data.order===null&&this.$router.push({name:"front404",params:{pathMatch:this.$route.path.split("/").slice(1)},query:this.$route.query,hash:this.$route.hash}),e.data.order.is_paid||(this.serverMessage.message="訂單已建立，請點擊付款按鈕付款",this.serverMessage.success=e.data.success,this.$refs.resultModal.openModal())}catch(e){this.serverMessage.message=e.response.data.message,this.serverMessage.success=e.response.data.success,this.$refs.resultModal.openModal()}},async goToPostPayOrder(e){try{const t=await this.postPayOrder(e);await this.goToGetOrder(),this.serverMessage=t.data,this.$refs.resultModal.openModal()}catch(t){this.serverMessage.message=t.response.data.message,this.serverMessage.success=t.response.data.success,this.$refs.resultModal.openModal()}},goToOrderDetailPage(e){this.$router.push({name:"order",params:{id:e}})},...m(r,["getOrder","postPayOrder","changeToIdPage"])},computed:{...g(r,["isLoading","showData"])},mounted(){this.goToGetOrder()}},w={key:1,class:"container bg-main-medium rounded-10em mt-5 mb-5 px-5r py-7r"},M={class:"d-flex align-items-center justify-content-center mb-3"},D={key:0,class:"text-center border-bottom border-secondary pb-2 w-50"},x={key:1,class:"text-center border-bottom border-secondary pb-2 w-50"},O={class:"row"},k=f('<div class="col"><div class="accordion"><div class="accordion-item"><h2 class="accordion-header" id="ContactUsSection"><button class="accordion-button collapsed fs-5 fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#ContactUsDetails" aria-expanded="false" aria-controls="ContactUsDetails"> 聯絡我們 </button></h2><div id="ContactUsDetails" class="accordion-collapse collapse show" aria-labelledby="ContactUsSection"><div class="accordion-body"><div class="d-flex justify-content-between"><p>聯絡信箱</p><p>glow.2023@gmail.com</p></div><div class="d-flex justify-content-between"><p>聯絡電話</p><p>0988000999</p></div><div class="d-flex justify-content-between mb-3"><p>營業時間</p><p>週一至週五 09:00~17:00</p></div><div class="row mb-3"><div class="col d-flex flex-column align-items-center"><span class="material-icons-outlined fs-1 mb-3"> local_shipping </span><span>免費標準配送</span></div><div class="col d-flex flex-column align-items-center"><span class="material-icons-outlined fs-1 mb-3"> redeem </span><span>七日內免費退貨</span></div><div class="col d-flex flex-column align-items-center"><span class="material-icons-outlined fs-1 mb-3"> enhanced_encryption </span><span>安全購物</span></div></div></div></div></div></div></div>',1),$={class:"col"},P={class:"accordion"},T={class:"accordion-item"},C=s("h2",{class:"accordion-header",id:"OrderInformationSection"},[s("button",{class:"accordion-button collapsed fs-5 fw-semibold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#OrderInformationDetails","aria-expanded":"false","aria-controls":"OrderInformationDetails"}," 訂單資訊 ")],-1),S={id:"OrderInformationDetails",class:"accordion-collapse collapse show","aria-labelledby":"OrderInformationSection"},j={class:"accordion-body"},I={class:"d-flex justify-content-between"},B=s("p",null,"訂單編號",-1),V={class:"d-flex justify-content-between"},L=s("p",null,"建立時間",-1),U={class:"d-flex justify-content-between"},E=s("p",null,"總金額",-1),N={key:0,class:"bg-medium-gray text-deep-gray px-3 py-2 mb-3"},G=s("h6",null,"修改訂單問題？",-1),q=s("span",null,"若您於已下單後想修改您的訂單，請您先不要付款，請先聯絡客服人員修改您的訂單後，再搜尋您的訂單前往付款😄",-1),A=[G,q],F={key:1,class:"bg-medium-gray text-deep-gray px-3 py-2 mb-3"},R=s("h6",null,"到貨時間？",-1),z=s("span",null,"在確認收到您訂單和款項之後我們約有1~2天備貨期，您最多可以指定3天後作為預期收到貨的日期。 實際依照網站出貨及物流業者的配送時間為準。",-1),H=[R,z],J={key:2,class:"d-flex mb-3"},K={key:3,class:"d-flex mb-3"};function Q(e,t,W,X,c,n){const l=d("VueLoading"),p=d("ResultModal");return a(),o(v,null,[e.isLoading?(a(),_(l,{key:0,active:e.isLoading,"background-color":"#EBEAE4","is-full-page":!0,color:"#52504B"},null,8,["active"])):(a(),o("div",w,[s("div",M,[e.showData.is_paid?(a(),o("h2",x," 感謝您的購買，已完成訂購！ ")):(a(),o("h2",D," 訂單已建立！請點擊按鈕付款 "))]),s("div",O,[k,s("div",$,[s("div",P,[s("div",T,[C,s("div",S,[s("div",j,[s("div",I,[B,s("p",null,i(e.showData.id),1)]),s("div",V,[L,s("p",null,i(e.showData.create_at),1)]),s("div",U,[E,s("p",null,"NT$ "+i(parseInt(e.showData.total)),1)]),e.showData.is_paid?(a(),o("div",F,H)):(a(),o("div",N,A)),e.showData.is_paid?(a(),o("div",K,[s("button",{type:"button",class:"btn btn-solid-dpgray w-100 btn-lg",onClick:t[1]||(t[1]=h=>n.goToOrderDetailPage(e.showData.id))}," 點擊查看此筆訂單 ")])):(a(),o("div",J,[s("button",{type:"button",class:"btn btn-solid-spec w-100 btn-lg",onClick:t[0]||(t[0]=h=>n.goToPostPayOrder(e.showData.id))}," 點我付款 ")]))])])])])])])])),b(p,{ref:"resultModal","server-message":c.serverMessage},null,8,["server-message"])],64)}const ts=u(y,[["render",Q]]);export{ts as default};
