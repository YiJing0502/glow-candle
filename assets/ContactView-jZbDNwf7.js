import{_ as A,m as F,a as S,c as g,f as p,g as T,d as k,n as v,j as H,i as f,o as w,b as o,e as y,p as N,k as B}from"./index-hsfrgDbZ.js";import{p as I}from"./pageStore-k9wnXxe7.js";class b{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const D=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},r={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:D()},E=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},K=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=E(e);r.publicKey=s.publicKey,r.blockHeadless=s.blockHeadless,r.storageProvider=s.storageProvider,r.blockList=s.blockList,r.limitRate=s.limitRate,r.origin=s.origin||t},L=async(e,t,s={})=>{const i=await fetch(r.origin+e,{method:"POST",headers:s,body:t}),a=await i.text(),n=new b(i.status,a);if(i.ok)return n;throw n},P=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},O=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},V=e=>e.webdriver||!e.languages||e.languages.length===0,R=()=>new b(451,"Unavailable For Headless Browser"),U=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},J=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},q=(e,t)=>e instanceof FormData?e.get(t):e[t],j=(e,t)=>{if(J(e))return!1;U(e.list,e.watchVariable);const s=q(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},x=()=>new b(403,"Forbidden"),z=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a string"},G=async(e,t,s)=>{const i=Number(await s.get(e)||0);return t-Date.now()+i},C=async(e,t,s)=>{if(!t.throttle||!s)return!1;z(t.throttle,t.id);const i=t.id||e;return await G(i,t.throttle,s)>0?!0:(await s.set(i,Date.now().toString()),!1)},M=()=>new b(429,"Too Many Requests"),Y=async(e,t,s,i)=>{const a=E(i),n=a.publicKey||r.publicKey,d=a.blockHeadless||r.blockHeadless,u=r.storageProvider||a.storageProvider,_={...r.blockList,...a.blockList},h={...r.limitRate,...a.limitRate};return d&&V(navigator)?Promise.reject(R()):(P(n,e,t),O(s),s&&j(_,s)?Promise.reject(x()):await C(location.pathname,h,u)?Promise.reject(M()):L("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:n,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},$=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},W=e=>typeof e=="string"?document.querySelector(e):e,Q=async(e,t,s,i)=>{const a=E(i),n=a.publicKey||r.publicKey,d=a.blockHeadless||r.blockHeadless,u=r.storageProvider||a.storageProvider,_={...r.blockList,...a.blockList},h={...r.limitRate,...a.limitRate};if(d&&V(navigator))return Promise.reject(R());const m=W(s);P(n,e,t),$(m);const l=new FormData(m);return j(_,l)?Promise.reject(x()):await C(location.pathname,h,u)?Promise.reject(M()):(l.append("lib_version","4.3.3"),l.append("service_id",e),l.append("template_id",t),l.append("user_id",n),L("/api/v1.0/email/send-form",l))},X={init:K,send:Y,sendForm:Q,EmailJSResponseStatus:b};var Z={VITE_BASE_URL:"https://vue3-course-api.hexschool.io",VITE_API_PATH:"orli-hexschool",VITE_EMAILJS_SERVICE_ID:"service_akj018u",VITE_EMAILJS_TEMPLATE_ID_CONTACT_US:"template_o8blnrh",VITE_EMAILJS_PUBLIC_KEY:"aGG0jyz8scVC5nDvC",BASE_URL:"/glow-candle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_EMAILJS_SERVICE_ID:ee,VITE_EMAILJS_TEMPLATE_ID_CONTACT_US:te,VITE_EMAILJS_PUBLIC_KEY:se}=Z,oe={data(){return{userEmail:"",userMessage:"",isSent:!1}},computed:{...F(I,["nowPage"])},methods:{goToPostMessage(){const e=`${se}`,t=`${ee}`,s=`${te}`;X.sendForm(t,s,"#myForm",{publicKey:e}).then(()=>{this.isSent=!0,this.$refs.form.resetForm()},i=>{this.showAlertMessage(!1,i)})},...S(I,["changeNowPage"]),...S(H,["showAlertMessage"])}},c=e=>(N("data-v-1be29025"),e=e(),B(),e),ae=c(()=>o("div",{class:"container-fluid bg-main-medium py-5 text-center"},[o("h5",{class:""},"訂單相關問題，請交由官方 LINE@ 詢問"),o("h6",{class:"mb-3"},"客服時間： 週一至週五 09:00~17:00"),o("button",{class:"btn btn-solid-dpgray",type:"button"},"LINE@ 官方客服")],-1)),re={key:0,class:"container message py-5"},ie=c(()=>o("h2",{class:"mb-3"},"聯繫我們",-1)),ne=c(()=>o("p",null,"謝謝您的主動聯絡，請留下要諮詢的問題，我們會用以下資訊進行回覆。",-1)),le={class:"mb-3"},ce=c(()=>o("label",{for:"exampleFormControlInput1",class:"form-label"},"電子信箱",-1)),me={class:"mb-3"},de=c(()=>o("label",{for:"exampleFormControlTextarea1",class:"form-label"},"留言",-1)),ue=c(()=>o("button",{class:"w-100 btn btn-solid-spec btn-lg",type:"submit"},"送出",-1)),pe={key:1,class:"container message py-5 my-5 text-center bg-main-spec container-rounded text-main-light wow animate__animated animate__fadeIn"},_e=c(()=>o("span",{class:"material-icons-outlined front-icon-xl"},"mark_email_read",-1)),he=c(()=>o("h2",{class:"mb-3"},"已傳送您的留言",-1)),be=c(()=>o("h5",{class:"mb-3"},"我們將儘速回覆您",-1)),fe=c(()=>o("div",{class:"container message"},[o("h4",{class:"mb-3"},"更多我們的詳細資訊"),o("p",null,"公司名稱： 光輝時刻有限公司"),o("p",null,"統一編號：08765445"),o("p",null,[y(" 聯絡信箱： "),o("a",{class:"text-deep-gray",href:"mailto:glow.candle.tw@gmail.com"}," glow.candle.tw@gmail.com ")]),o("p",null,[y(" 聯絡電話： "),o("a",{class:"text-deep-gray",href:"tel:0988000999"},"0988000999")]),o("p",null,"營業時間：週一至週五 09:00~17:00")],-1));function ge(e,t,s,i,a,n){const d=f("vee-field"),u=f("vee-error-message"),_=f("vee-form"),h=f("RouterLink");return w(),g("div",null,[ae,a.isSent?k("",!0):(w(),g("div",re,[p(_,{id:"myForm",ref:"form",onSubmit:n.goToPostMessage},{default:T(({errors:m})=>[ie,ne,o("div",le,[ce,p(d,{name:"電子信箱",type:"email",class:v(["form-control",{"is-invalid":m.電子信箱}]),modelValue:a.userEmail,"onUpdate:modelValue":t[0]||(t[0]=l=>a.userEmail=l),rules:"required|email",id:"exampleFormControlInput1",placeholder:"輸入您的電子信箱"},null,8,["class","modelValue"]),p(u,{class:"invalid-feedback",name:"電子信箱"})]),o("div",me,[de,p(d,{as:"textarea",name:"留言",class:v([{"is-invalid":m.留言},"form-control"]),rules:"max:800|required",modelValue:a.userMessage,"onUpdate:modelValue":t[1]||(t[1]=l=>a.userMessage=l),placeholder:"輸入您的訊息。若是詢問店內特定商品，請留下商品名稱，也歡迎您留下電子信箱以外的聯絡方式，謝謝！",id:"exampleFormControlTextarea1",rows:"10"},null,8,["class","modelValue"]),p(u,{class:"invalid-feedback",name:"留言"})]),ue]),_:1},8,["onSubmit"])])),a.isSent?(w(),g("div",pe,[_e,he,be,p(h,{to:{name:"home"},class:v(["btn btn-solid-main btn-lg",{active:e.nowPage==="首頁"}]),onClick:t[2]||(t[2]=m=>e.changeNowPage("首頁")),"aria-current":"page"},{default:T(()=>[y(" 返回首頁 ")]),_:1},8,["class"])])):k("",!0),fe])}const ye=A(oe,[["render",ge],["__scopeId","data-v-1be29025"]]);export{ye as default};
