import{_ as p,a as l,c as u,b as s,P as h,w as d,v as c,f,g as _,n as g,i as w,k as b,h as v,o as x,e as A}from"./index-vSMGsHVG.js";import{p as y}from"./pageStore-jPQB3cvG.js";var S={VITE_BASE_URL:"https://vue3-course-api.hexschool.io",VITE_API_PATH:"orli-hexschool",BASE_URL:"/glow-candle/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_BASE_URL:V}=S,k={data(){return{email:"",password:""}},methods:{postAdminSignin(){if(this.email===""&&this.password===""){this.showAlertMessage(!1,"信箱與密碼為必填");return}const o={username:this.email,password:this.password};this.$http.post(`${V}/v2/admin/signin`,o).then(e=>{if(e.data.success){const{expired:n,token:i}=e.data;document.cookie=`adminAccount=${i}; expires=${new Date(n)}`,this.email="",this.password="",this.$router.push({name:"adminOrders"})}}).catch(e=>{this.showAlertMessage(!1,e.response.data.message)})},...l(w,["showAlertMessage"]),...l(y,["changeNowPage"])},mounted(){}},E={class:"container d-flex justify-content-center align-items-center vh-100 back"},P={class:"col-8"},R=s("div",{class:"d-flex justify-content-center mb-2"},[s("img",{src:b,alt:"",class:"img-fluid",width:"100"})],-1),B=s("h3",{class:"mb-3 text-center text-deep-gray"},"請先登入",-1),L={class:"form-floating mb-3"},M=s("label",{for:"username",class:"text-deep-gray"}," 輸入您的電子郵件 ",-1),T={class:"form-floating mb-3"},D=s("label",{for:"password",class:"text-deep-gray"}," 輸入您的密碼 ",-1),N={class:"d-flex"},U=s("button",{class:"btn btn-lg w-100 mt-3 btn-solid-spec",type:"submit"},"登入",-1);function C(o,e,n,i,a,r){const m=v("RouterLink");return x(),u("div",E,[s("div",P,[R,B,s("form",{id:"form",class:"form-signin",onSubmit:e[3]||(e[3]=h((...t)=>r.postAdminSignin&&r.postAdminSignin(...t),["prevent"]))},[s("div",L,[d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.email=t),type:"email",class:"form-control text-deep-gray",id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[c,a.email]]),M]),s("div",T,[d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.password=t),type:"password",class:"form-control text-deep-gray",id:"password",placeholder:"password",required:""},null,512),[[c,a.password]]),D]),s("div",N,[f(m,{to:{name:"home"},class:g(["btn btn-lg btn-solid-dpgray w-100 mt-3",{active:o.nowPage==="首頁"}]),onClick:e[2]||(e[2]=t=>o.changeNowPage("首頁"))},{default:_(()=>[A(" 回首頁 ")]),_:1},8,["class"]),U])],32)])])}const j=p(k,[["render",C]]);export{j as default};
